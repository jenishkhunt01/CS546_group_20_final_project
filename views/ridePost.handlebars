<main class="max-w-4xl mx-auto bg-white shadow-md rounded-lg p-8">
  <h1 class="text-3xl font-bold text-blue-600 mb-6">Post a Ride</h1>
  <form id="ridePostForm" action="/ridePost/post" method="POST" class="space-y-6">
    <!-- Origin -->
    <div>
      <label for="ridePostOrigin" class="block text-gray-700 font-medium mb-2">Origin</label>
      <select
        id="ridePostOrigin"
        name="origin"
        class="block w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        required
        onchange="updateDestinationOptions()"
      >
        <option value="" disabled selected>Choose your starting location</option>
        <option value="New York City">New York City</option>
        <option value="Boston">Boston</option>
        <option value="Hoboken">Hoboken</option>
      </select>
    </div>

    <!-- Destination -->
    <div>
      <label for="ridePostDestination" class="block text-gray-700 font-medium mb-2">Destination</label>
      <select
        id="ridePostDestination"
        name="destination"
        class="block w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        required
        onchange="updateOriginOptions()"
      >
        <option value="" disabled selected>Choose your destination</option>
        <option value="New York City">New York City</option>
        <option value="Boston">Boston</option>
        <option value="Hoboken">Hoboken</option>
      </select>
    </div>

    <!-- Date -->
    <div>
      <label for="ridePostDate" class="block text-gray-700 font-medium mb-2">Date</label>
      <input
        type="date"
        id="ridePostDate"
        name="date"
        class="block w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        required
      />
    </div>

    <!-- Time -->
    <div>
      <label for="ridePostTime" class="block text-gray-700 font-medium mb-2">Time</label>
      <input
        type="time"
        id="ridePostTime"
        name="time"
        class="block w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        required
      />
    </div>

    <!-- Number of Seats -->
    <div>
      <label for="ridePostSeats" class="block text-gray-700 font-medium mb-2">Number of Seats Available</label>
      <select
        id="ridePostSeats"
        name="seats"
        class="block w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        required
      >
        <option value="" disabled selected>Select seats</option>
        <option value="1">1 Seat</option>
        <option value="2">2 Seats</option>
        <option value="3">3 Seats</option>
        <option value="4">4 Seats</option>
      </select>
    </div>

    <!-- Amount -->
    <div>
      <label for="ridePostAmount" class="block text-gray-700 font-medium mb-2">Amount per Seat ($)</label>
      <input
        type="number"
        id="ridePostAmount"
        name="amount"
        class="block w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        min="1"
        required
      />
    </div>

    <!-- Submit Button -->
    <div>
      <button
        type="submit"
        class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-300"
      >
        Post Ride
      </button>
    </div>
  </form>
</main>

<script>
  // Set the minimum date to today
  document.getElementById('ridePostDate').min = new Date().toISOString().split('T')[0];

  // Disable the selected origin city in the destination dropdown
  function updateDestinationOptions() {
    const origin = document.getElementById('ridePostOrigin').value;
    const destination = document.getElementById('ridePostDestination');
    Array.from(destination.options).forEach((option) => {
      if (option.value === origin) {
        option.disabled = true;
      } else {
        option.disabled = false;
      }
    });
  }

  // Disable the selected destination city in the origin dropdown
  function updateOriginOptions() {
    const destination = document.getElementById('ridePostDestination').value;
    const origin = document.getElementById('ridePostOrigin');
    Array.from(origin.options).forEach((option) => {
      if (option.value === destination) {
        option.disabled = true;
      } else {
        option.disabled = false;
      }
    });
  }
</script>
