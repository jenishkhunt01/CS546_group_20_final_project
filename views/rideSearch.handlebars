<main class="max-w-4xl mx-auto bg-white shadow-md rounded-lg p-8">
  <h1 class="text-2xl font-bold text-blue-600 mb-6">Search for a Ride</h1>

  <form id="rideSearchForm" action="/rideSearch" method="POST" class="space-y-6">
    <!-- Starting Location -->
    <div>
      <label for="startLocation" class="block text-gray-700 font-medium mb-2">Starting Location</label>
      <select
        id="startLocation"
        name="startLocation"
        class="w-full border border-gray-300 rounded-lg p-2"
        required
        onchange="updateEndLocationOptions()"
      >
        <option value="" disabled selected>Select a starting location</option>
        <option value="New York City">New York City</option>
        <option value="Boston">Boston</option>
        <option value="Hoboken">Hoboken</option>
      </select>
    </div>

    <!-- Ending Location -->
    <div>
      <label for="endLocation" class="block text-gray-700 font-medium mb-2">Ending Location</label>
      <select
        id="endLocation"
        name="endLocation"
        class="w-full border border-gray-300 rounded-lg p-2"
        required
        onchange="updateStartLocationOptions()"
      >
        <option value="" disabled selected>Select an ending location</option>
        <option value="New York City">New York City</option>
        <option value="Boston">Boston</option>
        <option value="Hoboken">Hoboken</option>
      </select>
    </div>

    <!-- Date -->
    <div>
      <label for="date" class="block text-gray-700 font-medium mb-2">Date</label>
      <input
        type="date"
        id="date"
        name="date"
        class="w-full border border-gray-300 rounded-lg p-2"
        required
      />
    </div>

    <!-- Number of Seats Required -->
    <div>
      <label for="seatsRequired" class="block text-gray-700 font-medium mb-2">Number of Seats Required</label>
      <select
        id="seatsRequired"
        name="seatsRequired"
        class="w-full border border-gray-300 rounded-lg p-2"
        required
      >
        <option value="" disabled selected>Select seats</option>
        <option value="1">1 Seat</option>
        <option value="2">2 Seats</option>
        <option value="3">3 Seats</option>
        <option value="4">4 Seats</option>
      </select>
    </div>

    <!-- Submit Button -->
    <div>
      <button
        type="submit"
        class="w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-300"
      >
        Search Ride
      </button>
    </div>
  </form>
</main>

<script>
  // Set the minimum date to today
  document.getElementById('date').min = new Date().toISOString().split('T')[0];

  // Disable the selected origin city in the destination dropdown
  function updateEndLocationOptions() {
    const startLocation = document.getElementById('startLocation').value;
    const endLocation = document.getElementById('endLocation');
    Array.from(endLocation.options).forEach((option) => {
      if (option.value === startLocation) {
        option.disabled = true;
      } else {
        option.disabled = false;
      }
    });
  }

  // Disable the selected destination city in the origin dropdown
  function updateStartLocationOptions() {
    const endLocation = document.getElementById('endLocation').value;
    const startLocation = document.getElementById('startLocation');
    Array.from(startLocation.options).forEach((option) => {
      if (option.value === endLocation) {
        option.disabled = true;
      } else {
        option.disabled = false;
      }
    });
  }
</script>
